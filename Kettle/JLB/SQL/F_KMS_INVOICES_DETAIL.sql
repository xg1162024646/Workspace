DECLARE V_NUM NUMBER;
BEGIN
  SELECT COUNT(1) INTO V_NUM
  FROM ALL_TABLES
  WHERE TABLE_NAME = 'F_KMS_INVOICES_DETAIL';
  
  IF V_NUM = 1 THEN
    EXECUTE IMMEDIATE 'DROP TABLE F_KMS_INVOICES_DETAIL';
  END IF;
END;
/
-- CREATE TABLE
CREATE TABLE F_KMS_INVOICES_DETAIL
(
  ID                  NUMBER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
  RESPONSIBLE_PERSON  VARCHAR2(100),
  CUSTOMER_CODE       VARCHAR2(100),
  CUSTOMER_NAME       VARCHAR2(100),
  VENDER_CODE         VARCHAR2(100),
  VENDER_NAME         VARCHAR2(100),
  KA_CODE             VARCHAR2(100),
  KA_NAME             VARCHAR2(100),
  INVOICES_TYPE       VARCHAR2(20),
  INSERT_DATE         DATE,
  JSON_TEXT           CLOB,
  PARSE_STATUS        INTEGER DEFAULT 0
);
-- ADD COMMENTS TO THE TABLE 
COMMENT ON TABLE F_KMS_INVOICES_DETAIL
  IS '商超系统抓单表';
-- ADD COMMENTS TO THE COLUMNS 
COMMENT ON COLUMN F_KMS_INVOICES_DETAIL.ID
  IS '主键ID';
COMMENT ON COLUMN F_KMS_INVOICES_DETAIL.KA_CODE
  IS '商超系统编码';
COMMENT ON COLUMN F_KMS_INVOICES_DETAIL.KA_NAME
  IS '商超系统名';
COMMENT ON COLUMN F_KMS_INVOICES_DETAIL.INVOICES_TYPE
  IS '单据类型';
COMMENT ON COLUMN F_KMS_INVOICES_DETAIL.INSERT_DATE
  IS '插入时间';
COMMENT ON COLUMN F_KMS_INVOICES_DETAIL.JSON_TEXT
  IS '单据详情';
COMMENT ON COLUMN F_KMS_INVOICES_DETAIL.PARSE_STATUS
  IS '解析状态';
/

